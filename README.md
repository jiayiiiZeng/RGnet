# RGnet: Recessive Genotype Network Analysis for identyfing Pathogenic Variants

CONTACT: <bufengxiao@wchscu.cn>

VERSION: 1.0 VERSION DATE:15th August, 2024

Copyright (c) 2024 by Institute of Rare Diseases, West China Hospital, Sichuan University.

>This document provides how to run RGnet to perform recessive genotype enrichment analysis of a VEP-annotated vcf file to identify pathogenic variants in interrelated genotype sharing in large patient cohorts.

<br>

**This README file provides information about the contents of folder, RGnet.**

+ **RG.sh** - a BASH-shell script to perform recessive genotype enrichment analysis of a VEP-annotated vcf file to identify pathogenic variants in interrelated genotype sharing in large patient cohorts.

+ **RG.yml** - a file which defines and configures the Conda environment required to run RGnet.

+ **00.SCRIPT** - detailed scripts of each step that support RG.sh to run successfully.
  + split.bed.py
  + vcf_filter_211011.sh
  + filter.240814.py
  + trans.py
  + homo_deg_1110_case005.py
  + homo_deg_1110_case005.py
  + split.2.py
  + source_graph.210926.2.py
  
+ **01.DATA**  - vcf.gz files that has been annotated with VEP (ensembl-vep :106.1) and its index. GJB2.vep_control_split_csq.vcf.gz was downloaded and intercepted from 1000 Genomes, while GJB2.vep_case_split_csq.vcf.gz was generated by random simulation.
  + GJB2.vep_control_split_csq.vcf.gz
  + GJB2.vep_control_split_csq.vcf.gz.csi
  + GJB2.vep_case_split_csq.vcf.gz
  + GJB2.vep_case_split_csq.vcf.gz.csi

+ **02.INPUT** - other files required to run RG.sh.
  + samplelist.txt
  + GJB2.txt
  + GJB2.bed
  + GJB2_trans.txt
  + P_LP_240813.txt
  + B_LB_240813.txt

+ **03.OUTPUT—CASE** - case output folder, including the operation of the specific log, output results and process files.
  + 01.log
  + random
  + split_bed

+ **03.OUTPUT—CONTROL** - control output folder, including the operation of the specific log, output results and process files.
  + 01.log
  + random
  + split_bed

## INSTALLATION

### RGnet scripts

Install RGnet from GitHub

```shell
git clone https://github.com/jiayiiiZeng/RGnet.git
```

### Conda

In order to install the dependencies of RGnet, we recommend using a dedicated conda environment. First, you will need the Conda Python distribution and package manager.

Download conda installer

```shell
wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh
```

Set permissions to execute

```shell
chmod +x Miniconda3-latest-Linux-x86_64.sh
```

Execute. Make sure to "yes" to add the conda to your PATH

```shell
sh ./Miniconda3-latest-Linux-x86_64.sh
```

Add channels

```shell
conda config --add channels defaults
conda config --add channels bioconda
conda config --add channels conda-forge
```

After installing Miniconda, run the following commands to install RGnet's dependencies

```shell
conda env create -f RG.yml
conda activate RG
```

## USAGE

Before executing RG.sh, ensure that the paths to the input and output files, as well as the necessary scripts, are correctly updated in both RG.sh and homo_deg_1110_case005.py

```shell
cd RGnet
bash RG.sh
```

## CITATION

If you use RG, please cite our paper (thanks!)

>Fandi Ai, et.al,. Analyzing and Visualizing Network Pattern of Recessive Genotypes in the Large Mendelian Disease Cohort. XXX.

## GETTING HELP

If you encounter a clear bug, please file an issue with a minimal reproducible example on GitHub. For questions and other discussion, please contact Fengxiao Bu (<bufengxiao@wchscu.cn>)
